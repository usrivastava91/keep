(this.webpackJsonpkeep=this.webpackJsonpkeep||[]).push([[0],{33:function(e,t,n){},38:function(e,t,n){e.exports=n(60)},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),s=(n(43),n(44),n(9)),i=n(15),u=n(25),l=(n(45),function(e){var t=e.showModal,n=e.show,a=e.triggerName,c=e.children,o=n?"display-block":"display-none",s=n?"overlay":"";return r.a.createElement("div",null,r.a.createElement("button",{onClick:t},a),r.a.createElement("div",{className:o+" "+s},r.a.createElement("section",{className:"modal-main"},c)))}),d=n(18),p=n(6);function E(e){return{type:"ACTIVE_NOTES_RECIEVED",payload:{notes:e}}}function f(e){return{type:"ARCHIVED_NOTES_RECIEVED",payload:{notes:e}}}function m(e){return{type:"PINNED_NOTES_RECIEVED",payload:{notes:e}}}function b(e,t){return{type:"SEARCH_DATA_COLLATED",payload:{allNotes:e,query:t}}}var v=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},h=(n(50),n(61)),y=function(){var e=Object(p.b)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],s=function(){o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{in:c,timeout:100,classNames:"sidebar"},r.a.createElement(l,{triggerName:"new note",showModal:function(){o(!0)},show:c},r.a.createElement(d.b,{onSubmit:function(t){var n=v();if(0===Object.keys(t).length)s();else{var a=Object(i.a)({},t,{type:"activeNotes",id:n});e({type:"CREATE_NOTE",payload:Object(i.a)({},a)}),s()}},render:function(e){var t=e.handleSubmit,n=e.reset;return r.a.createElement("form",{onSubmit:function(e){var a=t(e);return a&&a.then((function(){n()})),a}},r.a.createElement("div",null,r.a.createElement(d.a,{name:"title",component:"input",type:"text",placeholder:"Title"})),r.a.createElement("div",null,r.a.createElement(d.a,{name:"body",component:"textarea",rows:25,type:"text",placeholder:"take a note..."})),r.a.createElement("button",{className:"create-note-button",type:"submit"},"Close"))}}))))},O=(n(51),n(52),function(e){var t=e.note,n=t.id,a=t.body,c=t.title,o=t.type,u=Object(p.b)(),l=Object(s.g)(),d=void 0!=a?a.substring(0,50)+"...":"",E=void 0!=c?c:"";return console.log(o),r.a.createElement("div",{className:"note-card",onClick:function(){l.push("note/".concat(n,"/").concat(encodeURI(c),"/").concat(encodeURI(a),"/").concat(encodeURI(o)))}},r.a.createElement("h4",{className:"title"},E),r.a.createElement("div",{className:"body"},d),r.a.createElement("div",{className:"actions"},r.a.createElement("i",{onClick:function(e){e.stopPropagation();var n=Object(i.a)({},t,{type:"archivedNotes"});u({type:"ARCHIVE_NOTE",payload:n})},className:"archivedNotes"===o?"display-none":"fa fa-archive cursor-pointer"}),r.a.createElement("i",{onClick:function(e){e.stopPropagation();var n=Object(i.a)({},t,{type:"pinnedNotes"});u({type:"PIN_NOTE",payload:n})},className:"pinnedNotes"===o?"display-none":"fa fa-thumb-tack cursor-pointer"}),r.a.createElement("i",{onClick:function(e){e.stopPropagation(),u({type:"DELETE_NOTE",payload:{deletedNote:{id:n,type:o}}})},className:"fa fa-trash cursor-pointer"})))}),N=(n(33),function(e){var t=e.notes;return r.a.createElement("div",{className:"notes-grid"},t.map((function(e){var t=e.id;return r.a.createElement(h.a,{in:!0,timeout:100,classNames:"note-card",appear:!0},r.a.createElement(O,{key:t,note:e}))})))}),x=(n(54),function(){var e=Object(p.b)();Object(a.useEffect)((function(){e({type:"GET_PINNED_NOTES",payload:{}})}),[]);var t=Object(p.c)((function(e){return e.pinnedNotes})),n=Object(p.c)((function(e){return e.search.searchResults})),c=Object(p.c)((function(e){return e.search.showSearchResults})),o=n.filter((function(e){return"pinnedNotes"===e.type}));return r.a.createElement("div",{className:t.length>0?"pinned-notes":"display-none"},r.a.createElement("i",{className:"fa fa-thumb-tack"}),r.a.createElement(N,{notes:!0===c?o:t}))}),w=[{path:"/active",component:function(){var e=Object(p.b)();Object(a.useEffect)((function(){console.log("reloaded"),e({type:"GET_ACTIVE_NOTES",payload:{}}),e({type:"GET_ARCHIVED_NOTES",payload:{}})}),[]);var t=Object(p.c)((function(e){return e.activeNotes})),n=Object(p.c)((function(e){return e.search.searchResults})),c=Object(p.c)((function(e){return e.search.showSearchResults})),o=n.filter((function(e){return"activeNotes"===e.type}));return r.a.createElement("div",{className:"active-notes"},r.a.createElement("div",{className:"create-box"},r.a.createElement(y,null)),r.a.createElement("div",{className:"grid-section"},r.a.createElement(x,null),r.a.createElement(N,{notes:!0===c?o:t})))}},{path:"/archived",component:function(){var e=Object(p.b)();Object(a.useEffect)((function(){e({type:"GET_ARCHIVED_NOTES",payload:{}})}),[]);var t=Object(p.c)((function(e){return e.archivedNotes})),n=Object(p.c)((function(e){return e.search.searchResults})),c=Object(p.c)((function(e){return e.search.showSearchResults})),o=n.filter((function(e){return"archivedNotes"===e.type}));return r.a.createElement("div",{className:"archived-notes"},r.a.createElement(N,{notes:!0===c?o:t}))}},{path:"/search",component:function(){return r.a.createElement("div",null,"SearchResults")}},{path:"/note/:id/:title/:body/:type",component:function(e){var t=Object(s.i)(),n=t.id,c=t.title,o=t.body,E=t.type,f=Object(s.g)(),m=Object(p.b)(),b=Object(a.useState)(!1),v=Object(u.a)(b,2),h=(v[0],v[1]);return r.a.createElement("div",{className:"note"},r.a.createElement(l,{triggerName:"",showModal:function(){h(!0)},show:!0},r.a.createElement(d.b,{onSubmit:function(e){var t=Object(i.a)({},e,{id:n,type:E});m({type:"UDPATE_NOTE",payload:{updatedNote:t}}),"archivedNotes"===E?f.replace("/archived"):f.replace("/active")},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(d.a,{initialValue:c,name:"title",component:"input",type:"text",placeholder:"Title"})),r.a.createElement("div",null,r.a.createElement(d.a,{name:"body",initialValue:o,component:"textarea",rows:25,type:"text",placeholder:"Title"})),r.a.createElement("button",{className:"edit-note-button",type:"submit"},"Close"))}})))}}],_=(n(55),function(){var e=Object(p.b)(),t=Object(s.h)().pathname.substr(1),n=Object(p.c)((function(e){return e.util.showSideBar}));return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title display-flex"},r.a.createElement("i",{onClick:function(){e({type:"SHOW_SIDE_BAR",payload:!n})},className:"fa fa-bars toggle-sidebar"}),r.a.createElement("h3",null,t)),r.a.createElement("input",{className:"search-bar",placeholder:"search...",type:"text",onChange:function(t){e({type:"SEARCH",payload:t.target.value}),e({type:"SHOW_SEARCH_RESULTS",payload:!0})},onBlur:function(t){t.target.value.length>0?e({type:"SHOW_SEARCH_RESULTS",payload:!0}):e({type:"SHOW_SEARCH_RESULTS",payload:!1})}}),r.a.createElement("div",null))}),T=(n(56),function(){Object(s.g)(),Object(p.c)((function(e){return e.util.showSideBar}))}),S=(n(57),function(e){var t=Object(p.c)((function(e){return e.util.showSideBar}));return r.a.createElement("div",{className:"app-layout"},r.a.createElement("div",{className:"app-body"},r.a.createElement(_,null),r.a.createElement("div",{className:"container"},!0===t?r.a.createElement(T,null):null,r.a.createElement("div",{className:"main"},r.a.createElement(s.d,null,r.a.createElement(s.a,{exact:!0,from:"/",to:"/active"}),w.map((function(e,t){return r.a.createElement(s.b,{key:e.path,exact:!0,path:e.path,component:e.component})})))))))});var j=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(58);var C=n(13),R=n(36),k=n(14),g=[],A=[],I=[],D={showSearchResults:!1,searchResults:[]},P={activeNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CREATE_NOTE":var r=a.body,c=a.id,o=a.title,s=a.type,i={body:r,id:c,title:o,type:s},u=[].concat(Object(k.a)(e),[i]);return u;case"ACTIVE_NOTES_RECIEVED":var l=a.notes,d=Object(k.a)(l);return d;default:return e}},archivedNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ARCHIVED_NOTES_RECIEVED":var r=a.notes,c=Object(k.a)(r);return c;default:return e}},pinnedNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"PIN_NOTE":var r=a.body,c=a.id,o=a.title,s=a.type,i={body:r,id:c,title:o,type:s},u=[].concat(Object(k.a)(e),[i]);return u;case"PINNED_NOTES_RECIEVED":var l=a.notes,d=Object(k.a)(l);return d;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SEARCH_DATA_COLLATED":var r=a.allNotes,c=a.query,o=r.filter((function(e){return e.body.toLowerCase().includes(c.toLowerCase())||e.title.toLowerCase().includes(c.toLowerCase())})),s={searchResults:Object(k.a)(o),showSearchResults:e.showSearchResults};return s;case"SHOW_SEARCH_RESULTS":var i=a;return{showSearchResults:i,searchResults:e.searchResults};default:return e}},util:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showSideBar:!0},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SHOW_SIDE_BAR":return{showSideBar:a};default:return e}}},V=Object(C.c)(Object(i.a)({},P)),H=n(4),L=n.n(H),G=n(8),U=new(n(35).a)("keep");U.version(1).stores({activeNotes:"id, title, body"}),U.version(1).stores({archivedNotes:"id, title, body"}),U.version(1).stores({pinnedNotes:"id, title, body"});var B=U,W=L.a.mark(se),M=L.a.mark(ie),K=L.a.mark(ue),q=L.a.mark(le),F=L.a.mark(de),J=L.a.mark(pe),X=L.a.mark(Ee),$=L.a.mark(fe),z=L.a.mark(me),Q=L.a.mark(be),Y=L.a.mark(ve),Z=L.a.mark(he),ee=L.a.mark(ye),te=L.a.mark(Oe),ne=L.a.mark(Ne),ae=L.a.mark(xe),re=L.a.mark(we),ce=L.a.mark(_e),oe=L.a.mark(Se);function se(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)("CREATE_NOTE",ie);case 2:case"end":return e.stop()}}),W)}function ie(e){var t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=new Promise((function(e,n){B.table("activeNotes").add(t).then((function(t){e(t)}))})),a.next=4,n;case 4:a.sent;case 5:case"end":return a.stop()}}),M)}function ue(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)("UDPATE_NOTE",le);case 2:case"end":return e.stop()}}),K)}function le(e){var t,n,a,r,c,o;return L.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload.updatedNote,n=t.id,a=t.type,r=t.body,c=t.title,o=new Promise((function(e,t){B.table(a).update(n,{body:r,title:c,type:a}).then((function(t){e(t)}))})),s.next=5,o;case 5:s.sent;case 6:case"end":return s.stop()}}),q)}function de(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)("DELETE_NOTE",pe);case 2:case"end":return e.stop()}}),F)}function pe(e){var t,n,a,r;return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.deletedNote,n=t.id,a=t.type,r=new Promise((function(e,t){B.table(a).delete(n).then((function(t){e(t)}))})),c.next=5,r;case 5:if(c.sent,"archivedNotes"!==a){c.next=11;break}return c.next=9,Object(G.b)({type:"GET_ARCHIVED_NOTES",payload:{}});case 9:c.next=19;break;case 11:if("activeNotes"!==a){c.next=16;break}return c.next=14,Object(G.b)({type:"GET_ACTIVE_NOTES",payload:{}});case 14:c.next=19;break;case 16:if("pinnedNotes"!==a){c.next=19;break}return c.next=19,Object(G.b)({type:"GET_PINNED_NOTES",payload:{}});case 19:case"end":return c.stop()}}),J)}function Ee(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("GET_ACTIVE_NOTES",fe);case 2:case"end":return e.stop()}}),X)}function fe(e){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e,t){B.table("activeNotes").toArray().then((function(t){e(t)}))})),e.next=3,t;case 3:return n=e.sent,e.next=6,Object(G.b)(E(n));case 6:case"end":return e.stop()}}),$)}function me(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)("ARCHIVE_NOTE",be);case 2:case"end":return e.stop()}}),z)}function be(e){var t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=new Promise((function(e,n){B.table("archivedNotes").add(t).then((function(n){B.table("activeNotes").delete(t.id),B.table("pinnedNotes").delete(t.id),e(n)}))})),a.next=4,n;case 4:return a.sent,a.next=7,Object(G.b)({type:"GET_PINNED_NOTES",payload:{}});case 7:return a.next=9,Object(G.b)({type:"GET_ACTIVE_NOTES",payload:{}});case 9:case"end":return a.stop()}}),Q)}function ve(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("GET_ARCHIVED_NOTES",he);case 2:case"end":return e.stop()}}),Y)}function he(e){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e,t){B.table("archivedNotes").toArray().then((function(t){e(t)}))})),e.next=3,t;case 3:return n=e.sent,e.next=6,Object(G.b)(f(n));case 6:case"end":return e.stop()}}),Z)}function ye(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)("PIN_NOTE",Oe);case 2:case"end":return e.stop()}}),ee)}function Oe(e){var t,n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=new Promise((function(e,n){B.table("pinnedNotes").add(t).then((function(n){B.table("activeNotes").delete(t.id),B.table("archivedNotes").delete(t.id),e(n)}))})),a.next=4,n;case 4:return a.sent,a.next=7,Object(G.b)({type:"GET_ARCHIVED_NOTES",payload:{}});case 7:return a.next=9,Object(G.b)({type:"GET_ACTIVE_NOTES",payload:{}});case 9:case"end":return a.stop()}}),te)}function Ne(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("GET_PINNED_NOTES",xe);case 2:case"end":return e.stop()}}),ne)}function xe(){var e,t;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Promise((function(e,t){B.table("pinnedNotes").toArray().then((function(t){e(t)}))})),n.next=3,e;case 3:return t=n.sent,n.next=6,Object(G.b)(m(t));case 6:case"end":return n.stop()}}),ae)}function we(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)("SEARCH",_e);case 2:case"end":return e.stop()}}),re)}function _e(e){var t,n,a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,n=function(e){return[].concat(Object(k.a)(e.activeNotes),Object(k.a)(e.archivedNotes),Object(k.a)(e.pinnedNotes))},r.next=4,Object(G.c)(n);case 4:return a=r.sent,r.next=7,Object(G.b)(b(a,t));case 7:case"end":return r.stop()}}),ce)}var Te=[se(),Ee(),de(),me(),ve(),ye(),Ne(),ue(),we()];function Se(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.a)([].concat(Te));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),oe,null,[[0,5]])}var je=Object(R.a)(),Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d;"production"===Object({NODE_ENV:"production",PUBLIC_URL:"/keep",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BUILD_ENV&&(Ce=C.d);var Re=Object(C.e)(V,Ce(Object(C.a)(je)));je.run(Se);var ke=n(19);o.a.render(r.a.createElement(p.a,{store:Re},r.a.createElement(ke.a,null,r.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.b492a44c.chunk.js.map